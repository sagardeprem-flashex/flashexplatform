<img routerLink="/in" style=" width: 8.5rem;
    height: 3.5rem;
    display: block;
    cursor: pointer;
    outline: 0;" src="../../assets/images/logo.png" alt="Logo">
<div class="bodytag">
    <!-- This tag is for wallpaper -->
</div>


<div *ngIf="isSignedUp; else signupForm">

    <mat-card class="matcard" style="text-align: center;">
        Congratulations, your registration is successful. Please click below to login.
        <br>

        <button style="margin: auto; position: relative; margin: 2em 0em 0em;
    top: 50%;" mat-raised-button color="primary" routerLink="/auth/login">login</button>
    </mat-card>
</div>

<ng-template #signupForm>

    <mat-card class="matcard">

        <mat-card-header>
            <mat-card-title>Signup</mat-card-title>
        </mat-card-header>


        <mat-card-content>
            <div class="row col-sm-6" style="max-width:350px;">
                <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
                    <div>
                        <mat-form-field appearance="outline" class="validation">
                            <mat-label for="name">Your name</mat-label>
                            <input matInput placeholder="Your name" type="text" class="form-control" name="name" [(ngModel)]="form.name" #name="ngModel" required minlength="3" maxlength="30" pattern="[a-zA-Z]*" />
                        </mat-form-field>
                        <div *ngIf="f.submitted && name.invalid">
                            <div *ngIf="name.errors.required">
                                <mat-hint>*Name is required</mat-hint>
                            </div>
                            <div *ngIf="name.errors.minlength">
                                <mat-hint>*Name must be between 3 to 30 characters</mat-hint>
                            </div>
                            <div *ngIf="name.errors.pattern">
                                <mat-hint>*Only alphabets are allowed in Name.</mat-hint>
                            </div>
                        </div>

                    </div>
                    <div>
                        <mat-form-field appearance="outline" class="validation">
                            <mat-label for="Username">Username</mat-label>
                            <input matInput placeholder="Username" type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel" required minlength="6" maxlength="20" pattern="^(?=.*[a-zA-Z])[a-zA-Z0-9]+$" />
                        </mat-form-field>
                        <mat-hint>*Username must be between 6 to 20 characters</mat-hint>
                        <div *ngIf="f.submitted && username.invalid">
                            <div *ngIf="username.errors.required">
                                <mat-hint>*Username is required</mat-hint>
                            </div>
                            <div *ngIf="username.errors.minlength">
                                <mat-hint>*Username must be between 6 to 20 characters</mat-hint>
                            </div>
                            <div *ngIf="username.errors.pattern">
                                <mat-hint>*No special characters allowed. At least one alphabet must be present.</mat-hint>
                            </div>
                        </div>
                    </div>
                    <div>
                        <mat-form-field appearance="outline" class="validation">
                            <mat-label for="email">Email</mat-label>
                            <input matInput placeholder="Email" type="text" class="form-control" name="email" [(ngModel)]="form.email" #email="ngModel" required email pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$" maxlength="40" />
                        </mat-form-field>
                        <div *ngIf="f.submitted && email.invalid">
                            <div *ngIf="email.errors.required">
                                <mat-hint>*Email is required</mat-hint>
                            </div>
                            <div *ngIf="email.errors.pattern || email.errors.email">
                                <mat-hint>Email must be a valid email address</mat-hint>
                            </div>
                        </div>
                    </div>
                    <div>
                        <mat-form-field appearance="outline" class="validation">
                            <mat-label for="password">Password</mat-label>
                            <input matInput placeholder="Password" type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel" required minlength="6" required maxlength="14" pattern="^[&@$_.#!]{0,1}[a-zA-Z0-9]+[&@$_.#!]+[a-zA-Z0-9]+[&@$_.#!]{0,1}$"
                            />
                        </mat-form-field>
                        <mat-hint>*Password must contain 6-14 characters, at least 1 uppercase, 1 lowercase, 1 number, 1 special characters. Special characters not allowed at the start or end.</mat-hint>

                    </div>
                    <div>
                        <mat-card-actions style="padding-left:1em;">
                            <button mat-raised-button color="primary" style="margin-top: 1em;" class="btn btn-primary">Register</button>
                            <div style="padding-top: 1em;" *ngIf="f.submitted && isSignUpFailed" class="alert alert-warning">
                                Signup failed!<br/>{{errorMessage}}
                            </div>
                            <button mat-raised-button color="primary" routerLink="/in" class="btn btn-success">Cancel</button>
                        </mat-card-actions>
                    </div>
                </form>
            </div>
        </mat-card-content>
    </mat-card>

</ng-template>